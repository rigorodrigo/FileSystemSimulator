<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador do Sistema de Arquivos</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@5" rel="stylesheet" type="text/css" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script type="module" src="js/index.js"></script>
    <script type="module" src="js/modals/edit_blocks.js"></script>
    <script type="module" src="js/modals/create_partition.js"></script>
    <script type="module" src="js/modals/file_handler.js"></script>
    <script type="module" src="js/modals/create_directory.js"></script>
    <script type="module" src="js/modals/onboarding.js"></script>
    <script type="module" src="js/partition/deletePartition.js"></script>
    <script type="module" src="js/partition/partitionSelector.js"></script>
    <script type="module" src="js/file/deleteFile.js"></script>
</head>
<body class="p-4">
    <div class="flex flex-col space-y-4 max-w-[96rem] mx-auto">
        <!-- Header -->
        <div class="flex justify-end mb-4">
            <button class="btn btn-info btn-soft" onclick="help.showModal()">
                Ajuda
            </button>
        </div>
        <!-- End Header -->

        <!-- Estat√≠sticas -->
        <div class="flex flex-wrap justify-around gap-2">
            <div class="stats shadow">
                <div class="stat text-center">
                    <div class="flex justify-between items-center w-full space-x-4">
                        <div class="flex-1"></div>
                        <div class="stat-title flex-1">Blocos</div>
                        <button class="stat-title cursor-pointer w-6 h-6 flex justify-end flex-1" onclick="info_blocks.showModal()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-info"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                        </button>
                    </div>
                    <div class="stat-value">
                        <span id="stat-global-block-quantity">0</span>
                        <button class="stat-title inline cursor-pointer w-6 h-6 flex justify-end flex-1" onclick="edit_blocks.showModal()">
                            <svg class="stat-title w-6 h-6" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>
                        </button>
                    </div>
                    <progress class="progress w-48" id="stat-global-block-usage-progress" value="0" max="100"></progress>
                    <div class="stat-desc" id="stat-global-block-usage">0% usado</div>
                </div>
            </div>

            <div class="stats shadow">
                <div class="stat text-center">
                    <div class="flex justify-between items-center w-full space-x-4">
                        <div class="flex-1"></div>
                        <div class="stat-title flex-1">Disco</div>
                        <button class="stat-title cursor-pointer w-6 h-6 flex justify-end flex-1" onclick="info_disk.showModal()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-info"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                        </button>
                    </div>
                    <div class="stat-value" id="stat-global-disk-size">0</div>
                    <progress class="progress w-48" id="stat-global-disk-usage-progress" value="0" max="100"></progress>
                    <div class="stat-desc" id="stat-global-disk-usage">0% usado</div>
                </div>
            </div>

            <div class="stats shadow">
                <div class="stat text-center">
                    <div class="flex justify-between items-center w-full space-x-4">
                        <div class="flex-1"></div>
                        <div class="stat-title flex-1">Fragmenta√ß√£o Interna</div>
                        <button class="stat-title cursor-pointer w-6 h-6 flex justify-end flex-1" onclick="info_internal_fragmentation.showModal()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-info"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                        </button>
                    </div>
                    <div class="stat-value" id="stat-global-internal-fragmentation">0</div>
                    <div class="stat-desc" id="stat-global-internal-fragmentation-percent">0%</div>
                </div>
            </div>

            <div class="stats shadow">
                <div class="stat text-center">
                    <div class="flex justify-between items-center w-full space-x-4">
                        <div class="flex-1"></div>
                        <div class="stat-title flex-1">Arquivos</div>
                        <button class="stat-title cursor-pointer w-6 h-6 flex justify-end flex-1" onclick="info_files.showModal()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-info"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                        </button>
                    </div>
                    <div class="stat-value" id="stat-global-files-count">0</div>
                    <div class="stat-desc" id="stat-global-files-links">TODO links</div>
                </div>
            </div>

            <div class="stats shadow">
                <div class="stat text-center">
                    <div class="flex justify-between items-center w-full space-x-4">
                        <div class="flex-1"></div>
                        <div class="stat-title flex-1">Diret√≥rios</div>
                        <button class="stat-title cursor-pointer w-6 h-6 flex justify-end flex-1" onclick="info_directories.showModal()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-info"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                        </button>
                    </div>
                    <div class="stat-value" id="stat-global-directories-count">0</div>
                </div>
            </div>
        </div>
        <!-- End Estat√≠sticas -->

        <!-- Bloco principal -->
        <div class="grid md:grid-cols-2 gap-4">
            <!-- Bloco de disco -->
            <div class="flex flex-col gap-2">
                <!-- Header do disco -->
                <div class="flex flex-wrap gap-2">
                    <div class="flex items-center gap-2">
                        <span class="w-4 h-4 bg-neutral-content inline-block rounded-md"></span>
                        <span class="text-sm">N√£o Alocado</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="w-4 h-4 bg-success inline-block rounded-md"></span>
                        <span class="text-sm">Livre</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="w-4 h-4 bg-info inline-block rounded-md"></span>
                        <span class="text-sm">Usado</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="w-4 h-4 bg-warning inline-block rounded-md"></span>
                        <span class="text-sm">Diret√≥rio</span>
                    </div>
                </div>
                <!-- End Header do disco -->


                <!-- Visualiza√ß√£o do disco (blocos) -->
                <div class="card base-100 shadow-sm p-2">
                    <div id="disk-blocks" class="flex flex-wrap space-x-1 space-y-0">
                        <!-- Gerado automaticamente pelo script no final do arquivo -->
                    </div>
                </div>
                <!-- End Visualiza√ß√£o do disco (blocos) -->

                <!-- Bloco de m√©todo de gerencimento -->
                <div class="py-2">
                    <div class="flex-1 bg-base-100 rounded-lg p-2 min-h-96 border border-base-300 border-2">
                        <div id="space-management-visualizer" class="text-center text-gray-500">
                            Demonstra√ß√£o do m√©todo de gerenciamento de espa√ßo aqui
                        </div>
                    </div>
                </div>
                <!-- End Bloco de m√©todo de gerencimento -->

            </div>
            <!-- End Bloco de disco -->

            <!-- Parti√ß√µes e Bloco de arquivos -->
            <div class="space-y-4">
                <!-- Parti√ß√µes -->
                <div class="card base-100 shadow-sm p-2">
                    <div class="flex justify-between items-center">
                        <div class="font-semibold text-xl align-middle mb-2 text-center">Parti√ß√µes</div>
                        <button onclick="create_partition.showModal()" class="btn btn-soft btn-primary text-center align-middle text-bold text-lg md:text-2xl">+</button>
                    </div>

                    <!-- Lista de Parti√ß√µes -->
                    <div class="pt-2 space-y-2" id="partitions-list">
                        <div class="text-center text-gray-500 py-4">Nenhuma parti√ß√£o criada ainda</div>
                    </div>
                    <!-- End Lista de Parti√ß√µes -->
                </div>
                <!-- End Parti√ß√µes -->

                <!-- Bloco de arquivos -->
                <div class="card base-100 shadow-sm">
                    <!-- Layout principal com sidebar -->
                    <div class="flex h-auto gap-2">
                        <!-- Barra Lateral -->
                        <div class="min-w-48 bg-base-200 rounded-lg py-2">
                            <div class="font-semibold mb-2 text-center">Navega√ß√£o</div>
                            <ul class="menu w-full" id="file-browser-sidebar">
                                <li><span class="text-gray-500 text-sm">Selecione uma parti√ß√£o</span></li>
                            </ul>
                        </div>
                        <!-- End Barra Lateral -->

                        <!-- √Årea principal (path + conte√∫do) -->
                        <div class="flex-1 flex flex-col gap-2 p-2 pl-0">
                            <!-- Header com path e op√ß√µes -->
                            <div class="flex justify-between items-center">
                                <div class="flex items-center gap-2 flex-1">
                                    <button id="back-to-parent" class="btn btn-sm btn-ghost" onclick="navigateToParent()" style="display: none;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
                                    </button>
                                    <div class="flex-1 bg-base-300 p-2 rounded-lg" id="file-browser-path">
                                        /
                                    </div>
                                </div>

                                <div>
                                    <details class="dropdown dropdown-left">
                                    <summary class="btn btn-soft btn-primary text-center align-middle text-bold text-lg md:text-2xl">+</summary>
                                    <ul class="menu dropdown-content bg-base-100 rounded-box z-1 w-52 p-2 shadow-sm">
                                        <li><a onclick="create_file.showModal()">Criar Arquivo</a></li>
                                        <li><a onclick="updateDirectoryCreationModal(); create_directory.showModal()">Criar Diret√≥rio</a></li>
                                    </ul>
                                    </details>
                                </div>
                            </div>
                            <!-- End Header com path e op√ß√µes -->

                            <!-- Listagem de arquivos -->
                            <div id="files-container" class="flex-1 bg-base-100 rounded-lg p-2 min-h-96 border border-base-300 border-2">
                                <div id="file-browser-items" class="text-center text-gray-500">
                                    Selecione uma parti√ß√£o para ver seus arquivos
                                </div>
                            </div>
                            <!-- End Listagem de arquivos -->
                        </div>
                        <!-- End √Årea principal -->
                    </div>
                    <!-- End Layout principal com sidebar -->
                </div>
                <!-- End Bloco de arquivos -->
            </div>
            <!-- End Parti√ß√µes e Bloco de arquivos -->
        
        </div>
        <!-- End Bloco principal -->
    </div>

    <!-- ===================== -->
    <!--     MODALS ABAIXO     -->
    <!-- ===================== -->


    <!-- Modals para onboarding -->

    <dialog id="onboarding" class="modal">
        <div class="modal-box max-w-4xl">
            <h3 class="text-lg font-bold">Primeiros passos!</h3>
            <p class="py-4">Para iniciar o simulador n√≥s precisamos que voc√™ d√™ algumas informa√ß√µes iniciais sobre o disco e crie uma parti√ß√£o inicial.</p>
            <form id="form-onboarding" action="">
                <div class="">
                    <!-- Configura√ß√£o do Disco -->
                    <div>
                        <h4 class="font-bold text-lg mb-4">Configura√ß√£o do Disco</h4>
                        
                        <div class="grid grid-cols-2 gap-2">
                            <div>
                                <label class="input w-full">
                                    Quantidade de blocos:
                                    <input type="number" name="onboarding_blocks" class="grow w-full" min="100" max="4096" value="128" />
                                </label>
                                <p class="text-sm text-base-content/80 px-2 mb-4">Quantos blocos o disco ir√° ter? Recomenda-se entre 128 e 1024.</p>
                            </div>
                            <div>
                                <label class="input w-full">
                                    Tamanho de cada bloco (Em KB):
                                    <input type="number" name="onboarding_block_size" class="grow w-full" min="1" max="128" value="4" />
                                </label>
                                <p class="text-sm text-base-content/80 px-2">Recomenda-se entre 4KB e 64KB.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Configura√ß√£o da Parti√ß√£o Inicial -->
                    <div>
                        <h4 class="font-bold text-lg mb-4">Parti√ß√£o Inicial</h4>
                        
                        <div>
                            <label class="input w-full">
                                Nome:
                                <input name="onboarding_partition_name" type="text" class="grow w-full" placeholder="Sistema" value="Sistema" />
                            </label>
                            <div class="flex justify-between items-center gap-4">
                                <label class="select w-full grid grid-cols-2 mt-2">
                                    Algor√≠tmo de aloca√ß√£o:
                                    <select name="onboarding_allocation_method" required>
                                        <option value="">Selecione...</option>
                                        <option value="Cont√≠gua">Cont√≠gua</option>
                                        <option value="Encadeada">Encadeada</option>
                                        <option value="Indexada">Indexada</option>
                                    </select>
                                </label>
                                <button type="button" class="stat-title cursor-pointer w-6 h-6 flex justify-end flex-1" onclick="info_method_allocation.showModal()">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-info"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                                </button>
                            </div>
                            <div class="flex justify-between items-center gap-4">
                                <label class="select w-full grid grid-cols-2 mt-2">
                                    M√©todo de diret√≥rios:
                                    <select name="onboarding_directory_method" required>
                                        <option value="">Selecione...</option>
                                        <option value="Linear">Linear</option>
                                        <option value="Dois N√≠veis">Dois N√≠veis</option>
                                        <option value="√Årvore">√Årvore</option>
                                    </select>
                                </label>
                                <button type="button" class="stat-title cursor-pointer w-6 h-6 flex justify-end flex-1" onclick="info_method_directories.showModal()">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-info"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                                </button>
                            </div>
                            <div class="flex justify-between items-center gap-4">
                                <label class="select w-full grid grid-cols-2 mt-2">
                                    Gerenciamento de espa√ßo livre:
                                    <select name="onboarding_space_management" required>
                                        <option value="">Selecione...</option>
                                        <option value="bitmap">Mapa de bits</option>
                                        <option value="freeBlockList">Lista de blocos livres</option>
                                    </select>
                                </label>
                                <button type="button" class="stat-title cursor-pointer w-6 h-6 flex justify-end flex-1" onclick="info_free_space_management.showModal()">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-info"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="flex justify-end mt-6">
                    <button type="submit" class="btn btn-soft btn-success">
                        Inicializar Sistema
                    </button>
                </div>
            </form>
        </div>
    </dialog>

    <!-- End Modals para onboarding -->

    <!-- Modal ajuda geral -->

    <dialog id="help" class="modal">
        <div class="modal-box max-w-5xl">
            <form method="dialog">
                <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">‚úï</button>
            </form>
            <h3 class="text-lg font-bold mb-4">Como Usar o Simulador de Sistema de Arquivos</h3>
            
            <div class="space-y-6">
                <!-- Introdu√ß√£o -->
                <div class="alert alert-info">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    <span>Este simulador permite explorar conceitos fundamentais de sistemas de arquivos de forma interativa e visual.</span>
                </div>

                <!-- Primeiros Passos -->
                <div class="card bg-primary/10 border border-primary/20">
                    <div class="card-body">
                        <h4 class="card-title text-primary">Primeiros Passos</h4>
                        <div class="space-y-3">
                            <p><strong>1. Configura√ß√£o Inicial:</strong> Na primeira vez que voc√™ abrir o simulador, um modal de configura√ß√£o aparecer√° automaticamente.</p>
                            <div class="pl-4 space-y-2">
                                <p>‚Ä¢ <strong>Configura√ß√£o do Disco:</strong> Defina a quantidade de blocos (128-1024 recomendado) e o tamanho de cada bloco (4-64KB)</p>
                                <p>‚Ä¢ <strong>Parti√ß√£o Inicial:</strong> Configure nome, m√©todo de aloca√ß√£o, estrutura de diret√≥rios e gerenciamento de espa√ßo livre</p>
                            </div>
                            <p><strong>2. Inicializa√ß√£o:</strong> Clique em "Inicializar Sistema" para come√ßar a usar o simulador.</p>
                        </div>
                    </div>
                </div>

                <!-- Interface Principal -->
                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">Interface Principal</h4>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h5 class="font-semibold text-info mb-2">Estat√≠sticas (Topo)</h5>
                                <ul class="list-disc list-inside text-sm space-y-1">
                                    <li><strong>Blocos:</strong> Mostra uso total e permite altera√ß√£o da configura√ß√£o</li>
                                    <li><strong>Disco:</strong> Exibe tamanho total e porcentagem de uso</li>
                                    <li><strong>Fragmenta√ß√£o:</strong> Indica desperd√≠cio de espa√ßo interno</li>
                                    <li><strong>Arquivos/Diret√≥rios:</strong> Contadores em tempo real</li>
                                </ul>
                                <div class="mt-2 p-2 bg-info/10 rounded">
                                    <span class="text-sm"><strong>Dica:</strong> Clique nos √≠cones de informa√ß√£o (‚ìò) para detalhes sobre cada estat√≠stica.</span>
                                </div>
                            </div>
                            <div>
                                <h5 class="font-semibold text-success mb-2">Visualiza√ß√£o do Disco</h5>
                                <ul class="list-disc list-inside text-sm space-y-1">
                                    <li><strong>Blocos Coloridos:</strong> Representa√ß√£o visual de cada bloco</li>
                                    <li><strong>Legenda de Cores:</strong> Cinza=N√£o alocado, Verde=Livre, Azul=Usado, Amarelo=Diret√≥rio</li>
                                    <li><strong>Gerenciamento de Espa√ßo:</strong> Visualiza√ß√£o do m√©todo escolhido (bitmap/lista)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Trabalhando com Parti√ß√µes -->
                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">Trabalhando com Parti√ß√µes</h4>
                        <div class="space-y-3">
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <h5 class="font-semibold text-warning">Criando Parti√ß√µes</h5>
                                    <ol class="list-decimal list-inside text-sm space-y-1">
                                        <li>Clique no bot√£o "+" ao lado de "Parti√ß√µes"</li>
                                        <li>Preencha nome e configura√ß√µes da parti√ß√£o</li>
                                        <li>Escolha m√©todo de aloca√ß√£o, estrutura de diret√≥rios e gerenciamento de espa√ßo</li>
                                        <li>Clique em "Criar Parti√ß√£o"</li>
                                    </ol>
                                </div>
                                <div>
                                    <h5 class="font-semibold text-error">Gerenciando Parti√ß√µes</h5>
                                    <ul class="list-disc list-inside text-sm space-y-1">
                                        <li><strong>Sele√ß√£o:</strong> Clique em uma parti√ß√£o para selecion√°-la</li>
                                        <li><strong>Informa√ß√µes:</strong> Veja estat√≠sticas de uso e configura√ß√µes</li>
                                        <li><strong>Exclus√£o:</strong> Use o bot√£o "üóëÔ∏è" para excluir parti√ß√µes</li>
                                        <li><strong>Visualiza√ß√£o:</strong> Observe os blocos destacados no disco</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Trabalhando com Arquivos -->
                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">Trabalhando com Arquivos e Diret√≥rios</h4>
                        <div class="space-y-4">
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <h5 class="font-semibold text-primary">Navega√ß√£o</h5>
                                    <ul class="list-disc list-inside text-sm space-y-1">
                                        <li><strong>Sidebar:</strong> Use a navega√ß√£o lateral para acessar diret√≥rios</li>
                                        <li><strong>Breadcrumb:</strong> Veja o caminho atual na barra de endere√ßo</li>
                                        <li><strong>Voltar:</strong> Use a seta ‚Üê para retornar ao diret√≥rio pai</li>
                                    </ul>
                                </div>
                                <div>
                                    <h5 class="font-semibold text-success">Cria√ß√£o</h5>
                                    <ul class="list-disc list-inside text-sm space-y-1">
                                        <li><strong>Menu "+":</strong> Clique no menu suspenso "+" para op√ß√µes</li>
                                        <li><strong>Criar Arquivo:</strong> Defina nome e tamanho em KB</li>
                                        <li><strong>Criar Diret√≥rio:</strong> Especifique apenas o nome</li>
                                        <li><strong>Exclus√£o:</strong> Use o √≠cone üóëÔ∏è ao lado dos itens</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="alert alert-warning">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.996-.833-2.464 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg>
                                <span><strong>Importante:</strong> Primeiro selecione uma parti√ß√£o para poder criar e gerenciar arquivos!</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- M√©todos de Aloca√ß√£o -->
                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">M√©todos de Aloca√ß√£o</h4>
                        <div class="grid md:grid-cols-3 gap-4">
                            <div class="card bg-success/10 border border-success/20">
                                <div class="card-body p-3">
                                    <h5 class="font-semibold text-success">Cont√≠gua</h5>
                                    <p class="text-sm">Arquivos em blocos consecutivos. Acesso r√°pido, mas pode causar fragmenta√ß√£o externa.</p>
                                    <div class="badge badge-success badge-sm mt-2">Ideal para: Arquivos que crescem pouco</div>
                                </div>
                            </div>
                            <div class="card bg-warning/10 border border-warning/20">
                                <div class="card-body p-3">
                                    <h5 class="font-semibold text-warning">Encadeada</h5>
                                    <p class="text-sm">Blocos conectados por ponteiros. Elimina fragmenta√ß√£o externa, mas acesso sequencial.</p>
                                    <div class="badge badge-warning badge-sm mt-2">Ideal para: Arquivos sequenciais</div>
                                </div>
                            </div>
                            <div class="card bg-info/10 border border-info/20">
                                <div class="card-body p-3">
                                    <h5 class="font-semibold text-info">Indexada</h5>
                                    <p class="text-sm">Bloco √≠ndice aponta para blocos de dados. Equilibra acesso aleat√≥rio e sequencial.</p>
                                    <div class="badge badge-info badge-sm mt-2">Ideal para: Uso geral</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Gerenciamento de Espa√ßo -->
                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">Gerenciamento de Espa√ßo Livre</h4>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="card bg-primary/10 border border-primary/20">
                                <div class="card-body p-3">
                                    <h5 class="font-semibold text-primary">Mapa de Bits (Bitmap)</h5>
                                    <p class="text-sm mb-2">Cada bloco representado por 1 bit. 0=livre, 1=ocupado.</p>
                                    <div class="space-y-1 text-xs">
                                        <div><strong>Vantagens:</strong> Uso m√≠nimo de mem√≥ria, opera√ß√µes r√°pidas</div>
                                        <div><strong>Desvantagens:</strong> Busca linear pode ser lenta</div>
                                    </div>
                                </div>
                            </div>
                            <div class="card bg-secondary/10 border border-secondary/20">
                                <div class="card-body p-3">
                                    <h5 class="font-semibold text-secondary">Lista de Blocos Livres</h5>
                                    <p class="text-sm mb-2">Lista contendo n√∫meros de todos os blocos livres.</p>
                                    <div class="space-y-1 text-xs">
                                        <div><strong>Vantagens:</strong> Aloca√ß√£o O(1) muito r√°pida</div>
                                        <div><strong>Desvantagens:</strong> Uso vari√°vel de mem√≥ria</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Dicas e Truques -->
                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">Dicas e Truques</h4>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h5 class="font-semibold text-accent">Experimenta√ß√£o</h5>
                                <ul class="list-disc list-inside text-sm space-y-1">
                                    <li>Teste diferentes tamanhos de bloco para ver o impacto na fragmenta√ß√£o</li>
                                    <li>Compare m√©todos de aloca√ß√£o criando arquivos de tamanhos variados</li>
                                    <li>Observe como diferentes m√©todos afetam o uso de espa√ßo</li>
                                    <li>Use a visualiza√ß√£o em tempo real para entender os conceitos</li>
                                </ul>
                            </div>
                            <div>
                                <h5 class="font-semibold text-accent">Aprendizagem</h5>
                                <ul class="list-disc list-inside text-sm space-y-1">
                                    <li>Clique nos √≠cones (‚ìò) para informa√ß√µes detalhadas</li>
                                    <li>Experimente cen√°rios extremos (arquivos muito pequenos/grandes)</li>
                                    <li>Compare diferentes configura√ß√µes de parti√ß√µes</li>
                                    <li>Observe a fragmenta√ß√£o interna em tempo real</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Solu√ß√£o de Problemas -->
                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">Solu√ß√£o de Problemas Comuns</h4>
                        <div class="space-y-3">
                            <div class="alert alert-warning">
                                <div class="flex-col items-start">
                                    <div class="font-semibold">‚ùì "N√£o consigo criar arquivos"</div>
                                    <div class="text-sm">‚Üí Certifique-se de ter selecionado uma parti√ß√£o primeiro clicando nela.</div>
                                </div>
                            </div>
                            <div class="alert alert-warning">
                                <div class="flex-col items-start">
                                    <div class="font-semibold">‚ùì "A parti√ß√£o est√° cheia"</div>
                                    <div class="text-sm">‚Üí Verifique o espa√ßo dispon√≠vel na estat√≠stica da parti√ß√£o ou crie uma nova parti√ß√£o.</div>
                                </div>
                            </div>
                            <div class="alert alert-warning">
                                <div class="flex-col items-start">
                                    <div class="font-semibold">‚ùì "Quero reiniciar o simulador"</div>
                                    <div class="text-sm">‚Üí Altere as configura√ß√µes de blocos para reiniciar todo o sistema.</div>
                                </div>
                            </div>
                            <div class="alert alert-warning">
                                <div class="flex-col items-start">
                                    <div class="font-semibold">‚ùì "N√£o entendo a fragmenta√ß√£o"</div>
                                    <div class="text-sm">‚Üí Crie arquivos pequenos em uma parti√ß√£o com blocos grandes e observe a diferen√ßa entre espa√ßo alocado e usado.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Cen√°rios de Aprendizagem -->
                <div class="card bg-success/10 border border-success/20">
                    <div class="card-body">
                        <h4 class="card-title text-success">Cen√°rios de Aprendizagem Sugeridos</h4>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h5 class="font-semibold">Cen√°rio 1: Fragmenta√ß√£o</h5>
                                <ol class="list-decimal list-inside text-sm space-y-1">
                                    <li>Configure blocos de 64KB</li>
                                    <li>Crie v√°rios arquivos de 1-5KB</li>
                                    <li>Observe a fragmenta√ß√£o interna</li>
                                    <li>Compare com blocos de 4KB</li>
                                </ol>
                            </div>
                            <div>
                                <h5 class="font-semibold">Cen√°rio 2: M√©todos de Aloca√ß√£o</h5>
                                <ol class="list-decimal list-inside text-sm space-y-1">
                                    <li>Crie 3 parti√ß√µes com m√©todos diferentes</li>
                                    <li>Crie arquivos similares em cada uma</li>
                                    <li>Compare o uso de espa√ßo e organiza√ß√£o</li>
                                    <li>Observe as diferen√ßas visuais</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recursos Educacionais -->
                <div class="card bg-info/10 border border-info/20">
                    <div class="card-body">
                        <h4 class="card-title text-info">Recursos Educacionais</h4>
                        <div class="grid md:grid-cols-3 gap-4">
                            <div>
                                <h5 class="font-semibold">Visualiza√ß√µes</h5>
                                <ul class="list-disc list-inside text-sm space-y-1">
                                    <li>Blocos coloridos em tempo real</li>
                                    <li>M√©todo de gerenciamento de espa√ßo</li>
                                    <li>Estat√≠sticas din√¢micas</li>
                                    <li>Navega√ß√£o hier√°rquica</li>
                                </ul>
                            </div>
                            <div>
                                <h5 class="font-semibold">Informa√ß√µes Detalhadas</h5>
                                <ul class="list-disc list-inside text-sm space-y-1">
                                    <li>Modais explicativos (‚ìò)</li>
                                    <li>Compara√ß√µes mundo real vs simulador</li>
                                    <li>Exemplos pr√°ticos</li>
                                    <li>F√≥rmulas e c√°lculos</li>
                                </ul>
                            </div>
                            <div>
                                <h5 class="font-semibold">Experimenta√ß√£o</h5>
                                <ul class="list-disc list-inside text-sm space-y-1">
                                    <li>M√∫ltiplas configura√ß√µes</li>
                                    <li>Cen√°rios de teste</li>
                                    <li>Compara√ß√£o de m√©todos</li>
                                    <li>An√°lise de performance</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="flex justify-end mt-6">
                <form method="dialog">
                    <button class="btn btn-primary">
                        Entendi! Vamos come√ßar
                    </button>
                </form>
            </div>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </dialog>

    <!-- End Modal ajuda geral -->


    <!-- Modals para informa√ß√µes -->

    <dialog id="info_blocks" class="modal">
        <div class="modal-box max-w-3xl">
            <form method="dialog">
                <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">‚úï</button>
            </form>
            <h3 class="text-lg font-bold mb-4">O que s√£o Blocos?</h3>
            
            <div class="space-y-4">
                <div class="alert alert-info">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    <span>Os blocos s√£o as unidades b√°sicas de aloca√ß√£o de espa√ßo em disco. Cada bloco tem um tamanho fixo e √© usado para armazenar dados.</span>
                </div>

                <!-- Configura√ß√£o Atual -->
                <div class="card bg-primary/10 border border-primary/20">
                    <div class="card-body">
                        <h4 class="card-title text-primary">Configura√ß√£o Atual do Sistema</h4>
                        <div class="grid md:grid-cols-3 gap-4">
                            <div class="stat bg-base-200 rounded-lg">
                                <div class="stat-title">Quantidade de Blocos</div>
                                <div class="stat-value text-lg" id="modal-blocks-quantity">0</div>
                                <div class="stat-desc">Total dispon√≠vel</div>
                            </div>
                            <div class="stat bg-base-200 rounded-lg">
                                <div class="stat-title">Tamanho por Bloco</div>
                                <div class="stat-value text-lg" id="modal-blocks-size">4 KB</div>
                                <div class="stat-desc">Tamanho fixo</div>
                            </div>
                            <div class="stat bg-base-200 rounded-lg">
                                <div class="stat-title">Blocos Usados</div>
                                <div class="stat-value text-lg" id="modal-blocks-used">0</div>
                                <div class="stat-desc" id="modal-blocks-usage-percent">0% do total</div>
                            </div>
                        </div>
                        
                        <!-- Progresso visual -->
                        <div class="mt-4">
                            <div class="flex justify-between text-sm mb-1">
                                <span>Uso dos Blocos</span>
                                <span id="modal-blocks-progress-text">0%</span>
                            </div>
                            <progress class="progress progress-info w-full" id="modal-blocks-progress" value="0" max="100"></progress>
                        </div>
                    </div>
                </div>

                <!-- Explica√ß√£o -->
                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">Como Funcionam os Blocos</h4>
                        <p class="mb-3">Os blocos s√£o as menores unidades que o sistema operacional pode alocar para arquivos. Quando voc√™ cria um arquivo, ele sempre ocupa pelo menos um bloco inteiro, mesmo que seja menor que o tamanho do bloco.</p>
                        
                        <div class="mockup-code text-sm mb-4">
                            <pre><code>
Exemplo com blocos de 4KB:
Arquivo de 1KB ‚Üí Usa 1 bloco (4KB)
Arquivo de 7KB ‚Üí Usa 2 blocos (8KB)
Arquivo de 4KB ‚Üí Usa 1 bloco (4KB)

Fragmenta√ß√£o interna = Espa√ßo desperdi√ßado dentro dos blocos</code></pre>
                        </div>
                    </div>
                </div>

                <!-- Estados dos Blocos -->
                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">Estados dos Blocos</h4>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="space-y-2">
                                <div class="flex items-center gap-2">
                                    <span class="w-4 h-4 bg-neutral-content rounded"></span>
                                    <span class="text-sm"><strong>N√£o Alocado:</strong> Espa√ßo dispon√≠vel para cria√ß√£o de novas parti√ß√µes</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="w-4 h-4 bg-success rounded"></span>
                                    <span class="text-sm"><strong>Livre:</strong> Pertence a uma parti√ß√£o mas n√£o cont√©m dados</span>
                                </div>
                            </div>
                            <div class="space-y-2">
                                <div class="flex items-center gap-2">
                                    <span class="w-4 h-4 bg-info rounded"></span>
                                    <span class="text-sm"><strong>Usado:</strong> Cont√©m dados de arquivos</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="w-4 h-4 bg-warning rounded"></span>
                                    <span class="text-sm"><strong>Diret√≥rio:</strong> Cont√©m estruturas de diret√≥rios</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Compara√ß√£o de Tamanhos -->
                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">Impacto do Tamanho do Bloco</h4>
                        <div class="overflow-x-auto">
                            <table class="table table-zebra">
                                <thead>
                                    <tr>
                                        <th>Tamanho</th>
                                        <th>Vantagens</th>
                                        <th>Desvantagens</th>
                                        <th>Uso Ideal</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="badge badge-success">1-2 KB</span></td>
                                        <td>Menos desperd√≠cio</td>
                                        <td>Mais metadados</td>
                                        <td>Arquivos pequenos</td>
                                    </tr>
                                    <tr>
                                        <td><span class="badge badge-info">4-8 KB</span></td>
                                        <td>Equilibrado</td>
                                        <td>Padr√£o</td>
                                        <td>Uso geral</td>
                                    </tr>
                                    <tr>
                                        <td><span class="badge badge-warning">64+ KB</span></td>
                                        <td>Menos overhead</td>
                                        <td>Muito desperd√≠cio</td>
                                        <td>Arquivos grandes</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Diferen√ßas do Mundo Real -->
                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">Simulador vs. Mundo Real</h4>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h5 class="font-semibold text-info">Neste Simulador:</h5>
                                <ul class="list-disc list-inside text-sm space-y-1">
                                    <li>Tamanho de bloco global para todo o disco</li>
                                    <li>Quantidade fixa configurada no in√≠cio</li>
                                    <li>Visualiza√ß√£o simplificada dos estados</li>
                                    <li>Fragmenta√ß√£o calculada em tempo real</li>
                                </ul>
                            </div>
                            <div>
                                <h5 class="font-semibold text-success">Na Vida Real:</h5>
                                <ul class="list-disc list-inside text-sm space-y-1">
                                    <li>Cada sistema de arquivos pode ter tamanho diferente</li>
                                    <li>Pode ser alterado durante a formata√ß√£o</li>
                                    <li>Setores defeituosos podem existir</li>
                                    <li>Sistemas mais complexos de cache e otimiza√ß√£o</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="flex justify-between mt-6">
                <form method="dialog">
                    <button class="btn btn-soft btn-ghost">
                        Fechar
                    </button>
                </form>
                <form method="dialog">
                    <button onclick="edit_blocks.showModal()" class="btn btn-soft btn-success">
                        Alterar Configura√ß√µes
                    </button>
                </form>
            </div>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </dialog>

    <dialog id="info_disk" class="modal">
        <div class="modal-box max-w-4xl">
            <form method="dialog">
                <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">‚úï</button>
            </form>
            <h3 class="text-lg font-bold mb-4">Informa√ß√µes do Disco</h3>
            
            <div class="space-y-4">
                <div class="alert alert-info">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    <span>O disco √© o dispositivo de armazenamento f√≠sico onde todos os dados do sistema s√£o guardados.</span>
                </div>

                <!-- Estado Atual do Disco -->
                <div class="card bg-primary/10 border border-primary/20">
                    <div class="card-body">
                        <h4 class="card-title text-primary">Estado Atual do Disco</h4>
                        <div class="grid md:grid-cols-4 gap-4">
                            <div class="stat bg-base-200 rounded-lg">
                                <div class="stat-title">Tamanho Total</div>
                                <div class="stat-value text-lg" id="modal-disk-size">0 KB</div>
                                <div class="stat-desc">Capacidade m√°xima</div>
                            </div>
                            <div class="stat bg-base-200 rounded-lg">
                                <div class="stat-title">Espa√ßo Usado</div>
                                <div class="stat-value text-lg" id="modal-disk-used">0 KB</div>
                                <div class="stat-desc" id="modal-disk-usage-percent">0% utilizado</div>
                            </div>
                            <div class="stat bg-base-200 rounded-lg">
                                <div class="stat-title">Quantidade de Blocos</div>
                                <div class="stat-value text-lg" id="modal-total-blocks">0</div>
                                <div class="stat-desc">Unidades de aloca√ß√£o</div>
                            </div>
                            <div class="stat bg-base-200 rounded-lg">
                                <div class="stat-title">Tamanho do Bloco</div>
                                <div class="stat-value text-lg" id="modal-block-size-disk">4 KB</div>
                                <div class="stat-desc">Unidade m√≠nima</div>
                            </div>
                        </div>
                        
                        <!-- Progresso visual -->
                        <div class="mt-4">
                            <div class="flex justify-between text-sm mb-1">
                                <span>Uso do Disco</span>
                                <span id="modal-disk-progress-text">0%</span>
                            </div>
                            <progress class="progress progress-primary w-full" id="modal-disk-progress" value="0" max="100"></progress>
                        </div>
                    </div>
                </div>

                <!-- Configura√ß√£o e Organiza√ß√£o -->
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="card bg-base-200">
                        <div class="card-body">
                            <h4 class="card-title">Organiza√ß√£o do Disco</h4>
                            <p class="mb-3">O disco √© dividido em blocos de tamanho fixo. Cada bloco pode armazenar dados de arquivos ou metadados do sistema.</p>
                            
                            <div class="space-y-2">
                                <div class="flex items-center gap-2">
                                    <span class="w-4 h-4 bg-neutral-content rounded"></span>
                                    <span class="text-sm">N√£o Alocado - Espa√ßo dispon√≠vel para novas parti√ß√µes</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="w-4 h-4 bg-success rounded"></span>
                                    <span class="text-sm">Livre - Espa√ßo alocado mas n√£o usado</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="w-4 h-4 bg-info rounded"></span>
                                    <span class="text-sm">Usado - Cont√©m dados de arquivos</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="w-4 h-4 bg-warning rounded"></span>
                                    <span class="text-sm">Diret√≥rio - Cont√©m estruturas de diret√≥rios</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card bg-base-200">
                        <div class="card-body">
                            <h4 class="card-title">Parti√ß√µes</h4>
                            <p class="mb-3">O disco pode ser dividido em parti√ß√µes l√≥gicas, cada uma com seu pr√≥prio sistema de arquivos.</p>
                            
                            <div class="space-y-2" id="modal-partitions-list">
                                <div class="text-gray-500 text-sm">Carregando informa√ß√µes das parti√ß√µes...</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Caracter√≠sticas T√©cnicas -->
                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">Caracter√≠sticas T√©cnicas</h4>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h5 class="font-semibold mb-2">Neste Simulador:</h5>
                                <ul class="list-disc list-inside space-y-1 text-sm">
                                    <li>Tamanho calculado como: Blocos √ó Tamanho do Bloco</li>
                                    <li>Blocos de tamanho fixo e uniforme</li>
                                    <li>Configura√ß√£o global para todas as parti√ß√µes</li>
                                    <li>Visualiza√ß√£o em tempo real do uso</li>
                                </ul>
                            </div>
                            <div>
                                <h5 class="font-semibold mb-2">Na Vida Real:</h5>
                                <ul class="list-disc list-inside space-y-1 text-sm">
                                    <li>Tamanho f√≠sico definido pelo fabricante</li>
                                    <li>Setores de 512 bytes ou 4KB</li>
                                    <li>Podem ter setores defeituosos</li>
                                    <li>Diferentes tecnologias (HDD, SSD, NVMe)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Performance e Otimiza√ß√£o -->
                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">Performance e Otimiza√ß√£o</h4>
                        <div class="grid md:grid-cols-3 gap-4">
                            <div>
                                <h5 class="font-semibold text-success">Tamanhos de Bloco Pequenos</h5>
                                <ul class="list-disc list-inside text-sm space-y-1">
                                    <li>Menos fragmenta√ß√£o interna</li>
                                    <li>Melhor para arquivos pequenos</li>
                                    <li>Mais overhead de metadados</li>
                                </ul>
                            </div>
                            <div>
                                <h5 class="font-semibold text-warning">Tamanhos de Bloco M√©dios</h5>
                                <ul class="list-disc list-inside text-sm space-y-1">
                                    <li>Equilibrio entre fragmenta√ß√£o e overhead</li>
                                    <li>Padr√£o para a maioria dos sistemas</li>
                                    <li>Geralmente 4KB</li>
                                </ul>
                            </div>
                            <div>
                                <h5 class="font-semibold text-error">Tamanhos de Bloco Grandes</h5>
                                <ul class="list-disc list-inside text-sm space-y-1">
                                    <li>Melhor para arquivos grandes</li>
                                    <li>Menor overhead de metadados</li>
                                    <li>Maior fragmenta√ß√£o interna</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Compara√ß√£o de Tecnologias -->
                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">Tipos de Disco (Mundo Real)</h4>
                        <div class="overflow-x-auto">
                            <table class="table table-zebra">
                                <thead>
                                    <tr>
                                        <th>Tipo</th>
                                        <th>Velocidade</th>
                                        <th>Capacidade</th>
                                        <th>Durabilidade</th>
                                        <th>Custo</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="badge badge-info">HDD</span></td>
                                        <td>100-200 MB/s</td>
                                        <td>At√© 20TB+</td>
                                        <td>3-5 anos</td>
                                        <td><span class="badge badge-success">Baixo</span></td>
                                    </tr>
                                    <tr>
                                        <td><span class="badge badge-warning">SSD SATA</span></td>
                                        <td>500-600 MB/s</td>
                                        <td>At√© 8TB</td>
                                        <td>5-10 anos</td>
                                        <td><span class="badge badge-warning">M√©dio</span></td>
                                    </tr>
                                    <tr>
                                        <td><span class="badge badge-error">NVMe SSD</span></td>
                                        <td>3000+ MB/s</td>
                                        <td>At√© 8TB</td>
                                        <td>5-10 anos</td>
                                        <td><span class="badge badge-error">Alto</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </dialog>
    
    <dialog id="info_files" class="modal">
        <div class="modal-box max-w-3xl">
            <form method="dialog">
                <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">‚úï</button>
            </form>
            <h3 class="text-lg font-bold mb-4">Arquivos no Sistema</h3>
            
            <div class="space-y-4">
                <div class="alert alert-info">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    <span>Os arquivos s√£o a unidade b√°sica de armazenamento de dados no sistema de arquivos.</span>
                </div>

                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">Caracter√≠sticas dos Arquivos</h4>
                        <ul class="list-disc list-inside space-y-2">
                            <li><strong>Nome:</strong> Identificador √∫nico dentro do diret√≥rio</li>
                            <li><strong>Tamanho:</strong> Quantidade de dados armazenados em KB</li>
                            <li><strong>Blocos:</strong> Unidades f√≠sicas onde os dados s√£o armazenados</li>
                            <li><strong>Metadados:</strong> Informa√ß√µes sobre o arquivo (tamanho, localiza√ß√£o, etc.)</li>
                        </ul>
                    </div>
                </div>

                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">Como os Arquivos S√£o Armazenados</h4>
                        <div class="space-y-3">
                            <p>No simulador, cada arquivo:</p>
                            <ul class="list-disc list-inside space-y-1 ml-4">
                                <li>Ocupa um ou mais blocos dependendo do seu tamanho</li>
                                <li>√â alocado conforme o m√©todo escolhido para a parti√ß√£o</li>
                                <li>Pode sofrer fragmenta√ß√£o dependendo do m√©todo de aloca√ß√£o</li>
                                <li>Tem seus blocos visualizados na representa√ß√£o gr√°fica do disco</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">Fragmenta√ß√£o Interna</h4>
                        <p>Quando um arquivo n√£o preenche completamente seus blocos alocados, ocorre fragmenta√ß√£o interna. Por exemplo, um arquivo de 3KB em blocos de 4KB desperdi√ßa 1KB.</p>
                        <div class="mt-2">
                            <span class="badge badge-warning">Fragmenta√ß√£o = Espa√ßo Alocado - Tamanho Real do Arquivo</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </dialog>

    <dialog id="info_internal_fragmentation" class="modal">
        <div class="modal-box max-w-4xl">
            <form method="dialog">
                <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">‚úï</button>
            </form>
            <h3 class="text-lg font-bold mb-4">Fragmenta√ß√£o Interna</h3>
            
            <div class="space-y-4">
                <div class="alert alert-warning">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.996-.833-2.464 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg>
                    <span>A fragmenta√ß√£o interna ocorre quando um arquivo n√£o utiliza completamente os blocos que lhe foram alocados.</span>
                </div>

                <!-- Estado Atual -->
                <div class="card bg-primary/10 border border-primary/20">
                    <div class="card-body">
                        <h4 class="card-title text-primary">Estado Atual do Sistema</h4>
                        <div class="grid md:grid-cols-3 gap-4">
                            <div class="stat bg-base-200 rounded-lg">
                                <div class="stat-title">Fragmenta√ß√£o Total</div>
                                <div class="stat-value text-lg" id="modal-internal-fragmentation">0 KB</div>
                                <div class="stat-desc" id="modal-internal-fragmentation-percent">0% do espa√ßo usado</div>
                            </div>
                            <div class="stat bg-base-200 rounded-lg">
                                <div class="stat-title">Tamanho do Bloco</div>
                                <div class="stat-value text-lg" id="modal-block-size">4 KB</div>
                                <div class="stat-desc">Tamanho fixo por bloco</div>
                            </div>
                            <div class="stat bg-base-200 rounded-lg">
                                <div class="stat-title">Arquivos</div>
                                <div class="stat-value text-lg" id="modal-files-count">0</div>
                                <div class="stat-desc">Total de arquivos</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Explica√ß√£o -->
                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">O que √© Fragmenta√ß√£o Interna?</h4>
                        <p class="mb-3">A fragmenta√ß√£o interna √© o espa√ßo desperdi√ßado dentro dos blocos alocados para um arquivo quando o arquivo n√£o preenche completamente esses blocos.</p>
                        
                        <div class="mockup-code text-sm mb-4">
                            <pre><code>
Exemplo com blocos de 4KB:
Arquivo de 10KB precisa de 3 blocos (12KB total)
Fragmenta√ß√£o = 12KB - 10KB = 2KB desperdi√ßados

Bloco 1: [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 4KB usado
Bloco 2: [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 4KB usado  
Bloco 3: [‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë] 2KB usado, 2KB desperdi√ßado</code></pre>
                        </div>

                        <div class="alert alert-info">
                            <span><strong>F√≥rmula:</strong> Fragmenta√ß√£o Interna = (Blocos Alocados √ó Tamanho do Bloco) - Tamanho Real do Arquivo</span>
                        </div>
                    </div>
                </div>

                <!-- Causas e Impactos -->
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="card bg-base-200">
                        <div class="card-body">
                            <h4 class="card-title text-warning">Principais Causas</h4>
                            <ul class="list-disc list-inside space-y-1">
                                <li><strong>Tamanho de bloco grande:</strong> Blocos maiores causam mais desperd√≠cio</li>
                                <li><strong>Arquivos pequenos:</strong> Arquivos menores que o bloco desperdi√ßam muito espa√ßo</li>
                                <li><strong>Tamanhos irregulares:</strong> Arquivos que n√£o s√£o m√∫ltiplos do tamanho do bloco</li>
                            </ul>
                        </div>
                    </div>

                    <div class="card bg-base-200">
                        <div class="card-body">
                            <h4 class="card-title text-error">Impactos</h4>
                            <ul class="list-disc list-inside space-y-1">
                                <li><strong>Desperd√≠cio de espa√ßo:</strong> Reduz a capacidade efetiva do disco</li>
                                <li><strong>Custo financeiro:</strong> Mais armazenamento necess√°rio</li>
                                <li><strong>Performance:</strong> Pode afetar a efici√™ncia do cache</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Solu√ß√µes -->
                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title text-success">Estrat√©gias para Reduzir Fragmenta√ß√£o</h4>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h5 class="font-semibold">Tamanho de Bloco Adequado:</h5>
                                <ul class="list-disc list-inside text-sm space-y-1">
                                    <li>Blocos menores para arquivos pequenos</li>
                                    <li>Blocos maiores para arquivos grandes</li>
                                    <li>Equilibrar performance vs. desperd√≠cio</li>
                                </ul>
                            </div>
                            <div>
                                <h5 class="font-semibold">T√©cnicas Avan√ßadas:</h5>
                                <ul class="list-disc list-inside text-sm space-y-1">
                                    <li>Blocos de tamanhos vari√°veis</li>
                                    <li>Compacta√ß√£o de arquivos pequenos</li>
                                    <li>Sistemas de arquivos modernos (ZFS, Btrfs)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Compara√ß√£o de Tamanhos -->
                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">Impacto do Tamanho do Bloco</h4>
                        <div class="overflow-x-auto">
                            <table class="table table-zebra">
                                <thead>
                                    <tr>
                                        <th>Tamanho do Bloco</th>
                                        <th>Arquivo 1KB</th>
                                        <th>Arquivo 10KB</th>
                                        <th>Fragmenta√ß√£o M√©dia</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="badge badge-info">1KB</span></td>
                                        <td>0KB desperdi√ßado</td>
                                        <td>0KB desperdi√ßado</td>
                                        <td><span class="badge badge-success">Baixa</span></td>
                                    </tr>
                                    <tr>
                                        <td><span class="badge badge-warning">4KB</span></td>
                                        <td>3KB desperdi√ßado</td>
                                        <td>2KB desperdi√ßado</td>
                                        <td><span class="badge badge-warning">M√©dia</span></td>
                                    </tr>
                                    <tr>
                                        <td><span class="badge badge-error">64KB</span></td>
                                        <td>63KB desperdi√ßado</td>
                                        <td>54KB desperdi√ßado</td>
                                        <td><span class="badge badge-error">Alta</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </dialog>
    
    <dialog id="info_directories" class="modal">
        <div class="modal-box max-w-3xl">
            <form method="dialog">
                <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">‚úï</button>
            </form>
            <h3 class="text-lg font-bold mb-4">Diret√≥rios no Sistema</h3>
            
            <div class="space-y-4">
                <div class="alert alert-info">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    <span>Os diret√≥rios organizam e agrupam arquivos de forma hier√°rquica no sistema.</span>
                </div>

                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">O que s√£o Diret√≥rios</h4>
                        <p>Diret√≥rios s√£o estruturas especiais que cont√™m refer√™ncias para outros arquivos e diret√≥rios. Eles permitem organizar o sistema de arquivos de forma hier√°rquica.</p>
                        
                        <div class="mt-3">
                            <h5 class="font-semibold">Caracter√≠sticas:</h5>
                            <ul class="list-disc list-inside space-y-1 ml-4">
                                <li>Cont√™m tabelas com nomes e ponteiros para arquivos</li>
                                <li>Podem conter outros diret√≥rios (subdirect√≥rios)</li>
                                <li>Ocupam blocos no disco como qualquer arquivo</li>
                                <li>Permitem navega√ß√£o hier√°rquica</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">Navega√ß√£o</h4>
                        <div class="space-y-3">
                            <p>O simulador suporta navega√ß√£o completa pelos diret√≥rios:</p>
                            <ul class="list-disc list-inside space-y-1 ml-4">
                                <li><strong>Caminho Atual:</strong> Mostrado na barra de endere√ßo</li>
                                <li><strong>Navega√ß√£o:</strong> Clique nos diret√≥rios para entrar</li>
                                <li><strong>Voltar:</strong> Use o bot√£o de seta para retornar ao diret√≥rio pai</li>
                                <li><strong>Cria√ß√£o:</strong> Novos diret√≥rios podem ser criados em qualquer local</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card bg-base-200">
                    <div class="card-body">
                        <h4 class="card-title">Estruturas Suportadas</h4>
                        <div class="space-y-2">
                            <div class="badge badge-outline">Linear: Todos os arquivos no mesmo n√≠vel</div>
                            <div class="badge badge-outline">Dois N√≠veis: Diret√≥rios de usu√°rio apenas</div>
                            <div class="badge badge-outline">√Årvore: Hierarquia completa e flex√≠vel</div>
                        </div>
                        <p class="mt-3 text-sm">A estrutura escolhida na cria√ß√£o da parti√ß√£o determina como os diret√≥rios se comportam.</p>
                    </div>
                </div>
            </div>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </dialog>
    
    <dialog id="info_method_allocation" class="modal">
        <div class="modal-box max-w-4xl">
            <form method="dialog">
                <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">‚úï</button>
            </form>
            <h3 class="text-lg font-bold mb-4">M√©todos de Aloca√ß√£o de Arquivos</h3>
            
            <div class="space-y-6">
                <!-- Cont√≠gua -->
                <div class="card bg-base-200 shadow-sm">
                    <div class="card-body">
                        <h4 class="card-title text-success">Aloca√ß√£o Cont√≠gua</h4>
                        <div class="space-y-3">
                            <p><strong>Como funciona:</strong> O arquivo √© armazenado em blocos consecutivos no disco. Todos os blocos ficam fisicamente adjacentes.</p>
                            
                            <div class="alert alert-info">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                <span><strong>Performance:</strong> Excelente para leitura sequencial, pois minimiza o movimento da cabe√ßa do disco.</span>
                            </div>
                            
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <h5 class="font-semibold text-success">Vantagens:</h5>
                                    <ul class="list-disc list-inside text-sm space-y-1">
                                        <li>Acesso muito r√°pido</li>
                                        <li>Simples de implementar</li>
                                        <li>Baixo overhead de metadados</li>
                                    </ul>
                                </div>
                                <div>
                                    <h5 class="font-semibold text-error">Desvantagens:</h5>
                                    <ul class="list-disc list-inside text-sm space-y-1">
                                        <li>Fragmenta√ß√£o externa severa</li>
                                        <li>Dificulta crescimento de arquivos</li>
                                        <li>Desperdi√ßa espa√ßo</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="badge badge-outline">Uso real: CDs, DVDs, alguns sistemas embarcados</div>
                        </div>
                    </div>
                </div>

                <!-- Encadeada -->
                <div class="card bg-base-200 shadow-sm">
                    <div class="card-body">
                        <h4 class="card-title text-warning">Aloca√ß√£o Encadeada</h4>
                        <div class="space-y-3">
                            <p><strong>Como funciona:</strong> Cada bloco cont√©m um ponteiro para o pr√≥ximo bloco do arquivo. Os blocos podem estar espalhados pelo disco.</p>
                            
                            <div class="alert alert-warning">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.996-.833-2.464 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg>
                                <span><strong>Performance:</strong> Boa para grava√ß√£o, mas acesso sequencial pode ser lento devido aos saltos entre blocos.</span>
                            </div>
                            
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <h5 class="font-semibold text-success">Vantagens:</h5>
                                    <ul class="list-disc list-inside text-sm space-y-1">
                                        <li>Elimina fragmenta√ß√£o externa</li>
                                        <li>Arquivos podem crescer facilmente</li>
                                        <li>Usa eficientemente o espa√ßo</li>
                                    </ul>
                                </div>
                                <div>
                                    <h5 class="font-semibold text-error">Desvantagens:</h5>
                                    <ul class="list-disc list-inside text-sm space-y-1">
                                        <li>Acesso aleat√≥rio muito lento</li>
                                        <li>Ponteiros ocupam espa√ßo</li>
                                        <li>Vulner√°vel √† corrup√ß√£o</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="badge badge-outline">Uso real: Sistemas de arquivos simples, algumas implementa√ß√µes de FAT</div>
                        </div>
                    </div>
                </div>

                <!-- Indexada -->
                <div class="card bg-base-200 shadow-sm">
                    <div class="card-body">
                        <h4 class="card-title text-primary">Aloca√ß√£o Indexada</h4>
                        <div class="space-y-3">
                            <p><strong>Como funciona:</strong> Um bloco especial (bloco √≠ndice) cont√©m ponteiros para todos os blocos de dados do arquivo.</p>
                            
                            <div class="alert alert-success">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                <span><strong>Performance:</strong> Equilibra bem acesso sequencial e aleat√≥rio. Excelente para acesso direto.</span>
                            </div>
                            
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <h5 class="font-semibold text-success">Vantagens:</h5>
                                    <ul class="list-disc list-inside text-sm space-y-1">
                                        <li>Acesso aleat√≥rio r√°pido</li>
                                        <li>Sem fragmenta√ß√£o externa</li>
                                        <li>Suporta arquivos de tamanho vari√°vel</li>
                                    </ul>
                                </div>
                                <div>
                                    <h5 class="font-semibold text-error">Desvantagens:</h5>
                                    <ul class="list-disc list-inside text-sm space-y-1">
                                        <li>Overhead do bloco √≠ndice</li>
                                        <li>Tamanho m√°ximo limitado</li>
                                        <li>Complexidade adicional</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="badge badge-outline">Uso real: UNIX (inodes), NTFS, ext2/3/4</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </dialog>
    
    <dialog id="info_method_directories" class="modal">
        <div class="modal-box max-w-4xl">
            <form method="dialog">
                <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">‚úï</button>
            </form>
            <h3 class="text-lg font-bold mb-4">M√©todos de Estrutura de Diret√≥rios</h3>
            
            <div class="space-y-6">
                <!-- Linear -->
                <div class="card bg-base-200 shadow-sm">
                    <div class="card-body">
                        <h4 class="card-title text-info">Estrutura Linear</h4>
                        <div class="space-y-3">
                            <p><strong>Como funciona:</strong> Todos os arquivos ficam em um √∫nico diret√≥rio. N√£o h√° subdivis√µes ou hierarquia.</p>
                            
                            <div class="alert alert-info">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                <span><strong>Performance:</strong> Busca linear O(n). Simples mas ineficiente para muitos arquivos.</span>
                            </div>
                            
                            <div class="mockup-code text-sm">
                                <pre><code>/
‚îú‚îÄ‚îÄ arquivo1.txt
‚îú‚îÄ‚îÄ arquivo2.doc
‚îú‚îÄ‚îÄ foto.jpg
‚îî‚îÄ‚îÄ video.mp4</code></pre>
                            </div>
                            
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <h5 class="font-semibold text-success">Vantagens:</h5>
                                    <ul class="list-disc list-inside text-sm space-y-1">
                                        <li>Implementa√ß√£o muito simples</li>
                                        <li>Nenhuma complexidade de navega√ß√£o</li>
                                        <li>M√≠nimo overhead</li>
                                    </ul>
                                </div>
                                <div>
                                    <h5 class="font-semibold text-error">Desvantagens:</h5>
                                    <ul class="list-disc list-inside text-sm space-y-1">
                                        <li>Problemas de nomes √∫nicos</li>
                                        <li>Organiza√ß√£o imposs√≠vel</li>
                                        <li>Busca lenta com muitos arquivos</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="badge badge-outline">Uso real: Sistemas muito antigos, disquetes simples</div>
                        </div>
                    </div>
                </div>

                <!-- Dois N√≠veis -->
                <div class="card bg-base-200 shadow-sm">
                    <div class="card-body">
                        <h4 class="card-title text-warning">Estrutura de Dois N√≠veis</h4>
                        <div class="space-y-3">
                            <p><strong>Como funciona:</strong> Existe um diret√≥rio mestre que aponta para diret√≥rios de usu√°rios. Cada usu√°rio tem seu pr√≥prio diret√≥rio.</p>
                            
                            <div class="alert alert-warning">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.996-.833-2.464 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg>
                                <span><strong>Performance:</strong> Busca O(1) para usu√°rio + O(n) para arquivo. Melhor que linear.</span>
                            </div>
                            
                            <div class="mockup-code text-sm">
                                <pre><code>/
‚îú‚îÄ‚îÄ user1/
‚îÇ   ‚îú‚îÄ‚îÄ doc1.txt
‚îÇ   ‚îî‚îÄ‚îÄ foto1.jpg
‚îú‚îÄ‚îÄ user2/
‚îÇ   ‚îú‚îÄ‚îÄ projeto.doc
‚îÇ   ‚îî‚îÄ‚îÄ planilha.xls
‚îî‚îÄ‚îÄ user3/
    ‚îî‚îÄ‚îÄ video.mp4</code></pre>
                            </div>
                            
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <h5 class="font-semibold text-success">Vantagens:</h5>
                                    <ul class="list-disc list-inside text-sm space-y-1">
                                        <li>Isolamento entre usu√°rios</li>
                                        <li>Nomes podem repetir entre usu√°rios</li>
                                        <li>Organiza√ß√£o b√°sica</li>
                                    </ul>
                                </div>
                                <div>
                                    <h5 class="font-semibold text-error">Desvantagens:</h5>
                                    <ul class="list-disc list-inside text-sm space-y-1">
                                        <li>Limitado a dois n√≠veis apenas</li>
                                        <li>N√£o permite sub-organiza√ß√£o</li>
                                        <li>Usu√°rios n√£o podem criar subdiret√≥rios</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="badge badge-outline">Uso real: Primeiros sistemas multiusu√°rio, alguns mainframes antigos</div>
                        </div>
                    </div>
                </div>

                <!-- √Årvore -->
                <div class="card bg-base-200 shadow-sm">
                    <div class="card-body">
                        <h4 class="card-title text-success">Estrutura em √Årvore</h4>
                        <div class="space-y-3">
                            <p><strong>Como funciona:</strong> Hierarquia completa com diret√≥rios que podem conter arquivos e outros diret√≥rios. Estrutura recursiva.</p>
                            
                            <div class="alert alert-success">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                <span><strong>Performance:</strong> Busca O(log n) com indexa√ß√£o, O(h) onde h √© a altura da √°rvore.</span>
                            </div>
                            
                            <div class="mockup-code text-sm">
                                <pre><code>/
‚îú‚îÄ‚îÄ home/
‚îÇ   ‚îú‚îÄ‚îÄ usuario1/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Documentos/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ trabalho.doc
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ relatorio.pdf
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Imagens/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ foto.jpg
‚îÇ   ‚îî‚îÄ‚îÄ usuario2/
‚îÇ       ‚îî‚îÄ‚îÄ projeto/
‚îÇ           ‚îú‚îÄ‚îÄ src/
‚îÇ           ‚îî‚îÄ‚îÄ docs/
‚îî‚îÄ‚îÄ sistema/
    ‚îú‚îÄ‚îÄ bin/
    ‚îî‚îÄ‚îÄ lib/</code></pre>
                            </div>
                            
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <h5 class="font-semibold text-success">Vantagens:</h5>
                                    <ul class="list-disc list-inside text-sm space-y-1">
                                        <li>Organiza√ß√£o hier√°rquica natural</li>
                                        <li>Flexibilidade total</li>
                                        <li>Busca eficiente</li>
                                        <li>Caminhos absolutos e relativos</li>
                                    </ul>
                                </div>
                                <div>
                                    <h5 class="font-semibold text-error">Desvantagens:</h5>
                                    <ul class="list-disc list-inside text-sm space-y-1">
                                        <li>Implementa√ß√£o mais complexa</li>
                                        <li>Possibilidade de loops infinitos</li>
                                        <li>Overhead de metadados</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="badge badge-outline">Uso real: Windows, Linux, macOS, praticamente todos os SOs modernos</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </dialog>
    
    <dialog id="info_free_space_management" class="modal">
        <div class="modal-box max-w-4xl">
            <form method="dialog">
                <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">‚úï</button>
            </form>
            <h3 class="text-lg font-bold mb-4">M√©todos de Gerenciamento de Espa√ßo Livre</h3>
            
            <div class="space-y-6">
                <!-- Bitmap -->
                <div class="card bg-base-200 shadow-sm">
                    <div class="card-body">
                        <h4 class="card-title text-success">Mapa de Bits (Bitmap)</h4>
                        <div class="space-y-3">
                            <p><strong>Como funciona:</strong> Cada bloco no disco √© representado por um bit. 0 = livre, 1 = ocupado. O bitmap √© uma sequ√™ncia cont√≠nua de bits.</p>
                            
                            <div class="alert alert-info">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                <span><strong>Performance:</strong> Busca O(n) no pior caso. Opera√ß√µes em lote eficientes com opera√ß√µes bitwise.</span>
                            </div>
                            
                            <div class="mockup-code text-sm">
                                <pre><code>
Exemplo para 16 blocos:
Blocos:  0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15
Bitmap:  0 1 1 0 0 1 0 0 1 1  0  1  0  0  1  0
Status:  L O O L L O L L O O  L  O  L  L  O  L

L = Livre, O = Ocupado</code></pre>
                            </div>
                            
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <h5 class="font-semibold text-success">Vantagens:</h5>
                                    <ul class="list-disc list-inside text-sm space-y-1">
                                        <li>Uso m√≠nimo de mem√≥ria</li>
                                        <li>Opera√ß√µes bitwise muito r√°pidas</li>
                                        <li>F√°cil de implementar</li>
                                        <li>Localiza√ß√£o r√°pida de blocos cont√≠guos</li>
                                    </ul>
                                </div>
                                <div>
                                    <h5 class="font-semibold text-error">Desvantagens:</h5>
                                    <ul class="list-disc list-inside text-sm space-y-1">
                                        <li>Busca sequencial pode ser lenta</li>
                                        <li>Todo o bitmap deve estar na mem√≥ria</li>
                                        <li>N√£o adequado para discos muito grandes</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="stats stats-vertical lg:stats-horizontal shadow mt-4">
                                <div class="stat">
                                    <div class="stat-title">Espa√ßo para 1GB</div>
                                    <div class="stat-value text-sm">32KB</div>
                                    <div class="stat-desc">com blocos de 4KB</div>
                                </div>
                                <div class="stat">
                                    <div class="stat-title">Complexidade</div>
                                    <div class="stat-value text-sm">O(n)</div>
                                    <div class="stat-desc">busca linear</div>
                                </div>
                            </div>
                            
                        </div>
                        <div class="badge badge-outline">Uso real: Linux ext2/3/4, NTFS, muitos sistemas embarcados</div>
                    </div>
                </div>

                <!-- Lista de Blocos Livres -->
                <div class="card bg-base-200 shadow-sm">
                    <div class="card-body">
                        <h4 class="card-title text-primary">Lista de Blocos Livres</h4>
                        <div class="space-y-3">
                            <p><strong>Como funciona:</strong> Uma lista encadeada ou array que cont√©m os n√∫meros de todos os blocos livres no disco.</p>
                            
                            <div class="alert alert-success">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                <span><strong>Performance:</strong> Aloca√ß√£o O(1) muito r√°pida. Libera√ß√£o tamb√©m O(1).</span>
                            </div>
                            
                            <div class="mockup-code text-sm">
                                <pre><code>
Exemplo para 16 blocos:
Blocos ocupados: 1, 2, 5, 8, 9, 11, 14

Lista de blocos livres:
[0, 3, 4, 6, 7, 10, 12, 13, 15]

Aloca√ß√£o: remove primeiro da lista
Libera√ß√£o: adiciona ao final da lista</code></pre>
                            </div>
                            
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <h5 class="font-semibold text-success">Vantagens:</h5>
                                    <ul class="list-disc list-inside text-sm space-y-1">
                                        <li>Aloca√ß√£o extremamente r√°pida</li>
                                        <li>N√£o precisa varrer o disco</li>
                                        <li>F√°cil implementa√ß√£o</li>
                                        <li>Mem√≥ria proporcional ao espa√ßo livre</li>
                                    </ul>
                                </div>
                                <div>
                                    <h5 class="font-semibold text-error">Desvantagens:</h5>
                                    <ul class="list-disc list-inside text-sm space-y-1">
                                        <li>Uso de mem√≥ria vari√°vel</li>
                                        <li>Pode usar muita mem√≥ria se muito espa√ßo livre</li>
                                        <li>Dif√≠cil encontrar blocos cont√≠guos</li>
                                        <li>Perda de dados = perda da lista</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="stats stats-vertical lg:stats-horizontal shadow mt-4">
                                <div class="stat">
                                    <div class="stat-title">Espa√ßo vari√°vel</div>
                                    <div class="stat-value text-sm">4 bytes</div>
                                    <div class="stat-desc">por bloco livre</div>
                                </div>
                                <div class="stat">
                                    <div class="stat-title">Complexidade</div>
                                    <div class="stat-value text-sm">O(1)</div>
                                    <div class="stat-desc">aloca√ß√£o</div>
                                </div>
                            </div>
                            
                        </div>
                        <div class="badge badge-outline">Uso real: DOS antigo, alguns sistemas de tempo real, sistemas simples</div>
                    </div>
                </div>

                <!-- Compara√ß√£o -->
                <div class="card bg-base-300 shadow-sm">
                    <div class="card-body">
                        <h4 class="card-title">Compara√ß√£o dos M√©todos</h4>
                        <div class="overflow-x-auto">
                            <table class="table table-zebra">
                                <thead>
                                    <tr>
                                        <th>Aspecto</th>
                                        <th>Bitmap</th>
                                        <th>Lista de Blocos Livres</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>Velocidade de Aloca√ß√£o</strong></td>
                                        <td><span class="badge badge-warning">Moderada</span></td>
                                        <td><span class="badge badge-success">Muito R√°pida</span></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Uso de Mem√≥ria</strong></td>
                                        <td><span class="badge badge-success">Fixo e Baixo</span></td>
                                        <td><span class="badge badge-warning">Vari√°vel</span></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Blocos Cont√≠guos</strong></td>
                                        <td><span class="badge badge-success">F√°cil</span></td>
                                        <td><span class="badge badge-error">Dif√≠cil</span></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Implementa√ß√£o</strong></td>
                                        <td><span class="badge badge-info">Simples</span></td>
                                        <td><span class="badge badge-info">Simples</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </dialog>

    <!-- End Modals para informa√ß√µes -->

    <!-- Modals para edi√ß√£o -->
    <dialog id="edit_blocks" class="modal">
        <div class="modal-box">
            <form method="dialog">
                <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">‚úï</button>
            </form>
            <h3 class="text-lg font-bold">Editar configura√ß√£o dos blocos do disco</h3>
            <p class="py-4 text-error">Isso ir√° deletar todo o disco e todas as parti√ß√µes.</p>
            <form action="" id="form-edit-blocks">
                <label class="input w-full">
                    Quantidade de blocos:
                    <input type="number" name="edit_blocks_quantity" class="grow w-full" />
                </label>

                <label class="input w-full mt-2">
                    Tamanho de cada bloco:
                    <input type="number" name="edit_blocks_size" class="grow w-full" />
                </label>
                <div class="flex justify-between mt-4">
                    <form method="dialog">
                        <button class="btn btn-soft btn-ghost">
                            Cancelar
                        </button>
                    </form>
                    <button class="btn btn-soft btn-error">
                        Editar blocos
                    </button>
                </div>
            </form>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </dialog>

    <!-- End Modals para edi√ß√£o -->


    <!-- Modals para cria√ß√£o -->
    <dialog id="create_partition" class="modal">
        <div class="modal-box max-w-5xl">
            <form method="dialog">
                <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">‚úï</button>
            </form>
            <h3 class="text-lg font-bold">Criar Parti√ß√£o</h3>
            <p class="py-4">Uma parti√ß√£o √© uma por√ß√£o l√≥gica de um disco f√≠sico, que √© tratada como um disco independente.</p>
            <p>Cada parti√ß√£o pode conter seu pr√≥prio sistema de gerenciamento de arquivos.</p>
            <p>Isso inclui o algort√≠tmo para aloca√ß√£o dos arquivos, o sistema de diret√≥rios e o m√©todo de gerenciamento de espa√ßo livre.</p>
            
            <h2 class="mt-2 font-bold">Especifica√ß√µes da parti√ß√£o</h2>
            <div>
                <form id="create-partition-form" action="">
                    <label class="input w-full">
                        Nome:
                        <input id="partition-name" type="text" class="grow w-full" placeholder="Minha Parti√ß√£o" />
                    </label>

                    <div class="grid md:grid-cols-2 gap-2 mt-2">
                        <label class="input w-full">
                            Bloco inicial:
                            <input id="partition-start-block" type="number" class="grow w-full" min="0" />
                        </label>

                        <label class="input w-full">
                            Bloco final:
                            <input id="partition-end-block" type="number" class="grow w-full" min="0" />
                        </label>
                    </div>
                    
                    <label class="select w-full grid grid-cols-2 mt-2">
                        Algor√≠tmo de aloca√ß√£o:
                        <select id="partition-allocation-method" required>
                            <option value="">Selecione...</option>
                            <option value="Cont√≠gua">Cont√≠gua</option>
                            <option value="Encadeada">Encadeada</option>
                            <option value="Indexada">Indexada</option>
                        </select>
                    </label>
                    
                    <label class="select w-full grid grid-cols-2 mt-2">
                        M√©todo de diret√≥rios:
                        <select id="partition-directory-method" required>
                            <option value="">Selecione...</option>
                            <option value="Linear">Linear</option>
                            <option value="Dois N√≠veis">Dois N√≠veis</option>
                            <option value="√Årvore">√Årvore</option>
                        </select>
                    </label>
                    
                    <label class="select w-full grid grid-cols-2 mt-2">
                        Gerenciamento de espa√ßo livre:
                        <select id="partition-space-management" required>
                            <option value="">Selecione...</option>
                            <option value="bitmap">Mapa de bits</option>
                            <option value="freeBlockList">Lista de blocos livres</option>
                        </select>
                    </label>

                    <div class="flex justify-end mt-4">
                        <button type="submit" class="btn btn-soft btn-primary">
                            Criar Parti√ß√£o
                        </button>
                    </div>
                </form>
            </div>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </dialog>


    <dialog id="create_directory" class="modal">
        <div class="modal-box">
            <form method="dialog">
                <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">‚úï</button>
            </form>
            <h3 class="text-lg font-bold">Criar Diret√≥rio</h3>

            <div class="bg-info/10 p-3 rounded-lg mb-4" id="selected-partition-info-dir">
                <div class="text-sm text-gray-600">Parti√ß√£o selecionada:</div>
                <div class="font-semibold" id="selected-partition-name-dir">Nenhuma parti√ß√£o selecionada</div>
                <div class="text-sm text-gray-600 mt-1">Localiza√ß√£o atual:</div>
                <div class="font-semibold" id="current-path-dir">/</div>
            </div>

            <div class="mt-2">
                <form action="" id="create-directory-form">
                    <label class="input w-full">
                        Nome:
                        <input type="text" id="directory-create-name" class="grow w-full" placeholder="meuDiretorio" />
                    </label>
                    
                    <div class="flex justify-between mt-4">
                        <button type="button" onclick="create_directory.close()" class="btn btn-soft btn-ghost">
                            Cancelar
                        </button>
                        <button type="submit" class="btn btn-soft btn-success">
                            Criar Diret√≥rio
                        </button>
                    </div>
                </form>
            </div>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </dialog>

    <dialog id="create_file" class="modal">
        <div class="modal-box">
            <form method="dialog">
                <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">‚úï</button>
            </form>
            <h3 class="text-lg font-bold">Criar Arquivo</h3>
            
            <div class="bg-info/10 p-3 rounded-lg mb-4" id="selected-partition-info">
                <div class="text-sm text-gray-600">Parti√ß√£o selecionada:</div>
                <div class="font-semibold" id="selected-partition-name">Nenhuma parti√ß√£o selecionada</div>
            </div>

            <div class="mt-2">
                <form action="" id="create-file-form">
                    <label class="input w-full">
                        Nome:
                        <input type="text" id="file-create-name" class="grow w-full" placeholder="superArquivo" />
                    </label>
                    <label class="input w-full mt-2">
                        Tamanho (em KB):
                        <input type="number" id="file-create-size" class="grow w-full" placeholder="4" />
                    </label>
                    
                    <div class="flex justify-between mt-4">
                        <button type="button" onclick="create_file.close()" class="btn btn-soft btn-ghost">
                            Cancelar
                        </button>
                        <button type="submit" class="btn btn-soft btn-success">
                            Criar Arquivo
                        </button>
                    </div>
                </form>
            </div>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </dialog>

    <!-- End Modals para cria√ß√£o -->

    <!-- Modals para exclus√£o -->
    <dialog id="delete_partition" class="modal">
        <div class="modal-box">
            <form method="dialog">
                <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">‚úï</button>
            </form>
            <h3 class="text-lg font-bold">Excluir Parti√ß√£o</h3>
            <p class="py-4">Tem certeza que deseja excluir esta parti√ß√£o?</p>
            <div class="flex justify-between mt-4">
                <form method="dialog">
                    <button class="btn btn-soft btn-ghost">
                        Cancelar
                    </button>
                </form>
                <button onclick="confirmDeletePartition()" class="btn btn-soft btn-error">
                    Excluir Parti√ß√£o
                </button>
            </div>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </dialog>

    <dialog id="delete_file" class="modal">
        <div class="modal-box">
            <form method="dialog">
                <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">‚úï</button>
            </form>
            <h3 class="text-lg font-bold">Excluir Arquivo</h3>
            <p class="py-4">Tem certeza que deseja excluir o arquivo "<span id="delete-file-name"></span>"?</p>
            <p class="text-sm text-gray-600">Esta a√ß√£o n√£o pode ser desfeita e liberar√° os blocos ocupados pelo arquivo.</p>
            <div class="flex justify-between mt-4">
                <form method="dialog">
                    <button class="btn btn-soft btn-ghost">
                        Cancelar
                    </button>
                </form>
                <button onclick="executeFileDelete()" class="btn btn-soft btn-error">
                    Excluir Arquivo
                </button>
            </div>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </dialog>
    <!-- End Modals para exclus√£o -->
</body>
</html>